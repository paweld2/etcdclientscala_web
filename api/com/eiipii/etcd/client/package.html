<!DOCTYPE html >
<html>
        <head>
          <title>client - com.eiipii.etcd.client</title>
          <meta name="description" content="client - com.eiipii.etcd.client" />
          <meta name="keywords" content="client com.eiipii.etcd.client" />
          <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
          
      <link href="../../../../lib/template.css" media="screen" type="text/css" rel="stylesheet" />
      <link href="../../../../lib/diagrams.css" media="screen" type="text/css" rel="stylesheet" id="diagrams-css" />
      <script type="text/javascript" src="../../../../lib/jquery.js" id="jquery-js"></script>
      <script type="text/javascript" src="../../../../lib/jquery-ui.js"></script>
      <script type="text/javascript" src="../../../../lib/template.js"></script>
      <script type="text/javascript" src="../../../../lib/tools.tooltip.js"></script>
      
      <script type="text/javascript">
         if(top === self) {
            var url = '../../../../index.html';
            var hash = 'com.eiipii.etcd.client.package';
            var anchor = window.location.hash;
            var anchor_opt = '';
            if (anchor.length >= 1)
              anchor_opt = '@' + anchor.substring(1);
            window.location.href = url + '#' + hash + anchor_opt;
         }
   	  </script>
    
        </head>
        <body class="value">
      <div id="definition">
        <img alt="Package" src="../../../../lib/package_big.png" />
        <p id="owner"><a href="../../../package.html" class="extype" name="com">com</a>.<a href="../../package.html" class="extype" name="com.eiipii">eiipii</a>.<a href="../package.html" class="extype" name="com.eiipii.etcd">etcd</a></p>
        <h1>client</h1><span class="permalink">
      <a href="../../../../index.html#com.eiipii.etcd.client.package" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      </div>

      <h4 id="signature" class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <span class="name">client</span>
      </span>
      </h4>
      
          <div id="comment" class="fullcommenttop"><div class="comment cmt"><p>An easy-to-configure, asynchronous etcd client with key-value methods, support for authentication and methods for retrieving statistics from etcd clusters.</p><p>EtcdClient is built on top of <a href="http://docs.scala-lang.org/overviews/core/futures.html" target="_blank">Scala Futures and Promises</a>, <a href="https://github.com/AsyncHttpClient/async-http-client/" target="_blank">AsyncHttpClient</a>, <a href="http://netty.io/" target="_blank">Netty</a> and <a href="https://github.com/json4s/json4s" target="_blank">JSON4S</a>.</p></div><div class="toggleContainer block">
          <span class="toggle">Linear Supertypes</span>
          <div class="superTypes hiddenContent"><span class="extype" name="scala.AnyRef">AnyRef</span>, <span class="extype" name="scala.Any">Any</span></div>
        </div></div>
        

      <div id="mbrsel">
        <div id="textfilter"><span class="pre"></span><span class="input"><input id="mbrsel-input" type="text" accesskey="/" /></span><span class="post"></span></div>
        <div id="order">
              <span class="filtertype">Ordering</span>
              <ol>
                
                <li class="alpha in"><span>Alphabetic</span></li>
                <li class="inherit out"><span>By Inheritance</span></li>
              </ol>
            </div>
        <div id="ancestors">
                <span class="filtertype">Inherited<br />
                </span>
                <ol id="linearization">
                  <li class="in" name="com.eiipii.etcd.client"><span>client</span></li><li class="in" name="scala.AnyRef"><span>AnyRef</span></li><li class="in" name="scala.Any"><span>Any</span></li>
                </ol>
              </div><div id="ancestors">
            <span class="filtertype"></span>
            <ol>
              <li class="hideall out"><span>Hide All</span></li>
              <li class="showall in"><span>Show All</span></li>
            </ol>
          </div>
        <div id="visbl">
            <span class="filtertype">Visibility</span>
            <ol><li class="public in"><span>Public</span></li><li class="all out"><span>All</span></li></ol>
          </div>
      </div>

      <div id="template">
        <div id="allMembers">
        

        <div id="types" class="types members">
              <h3>Type Members</h3>
              <ol><li name="com.eiipii.etcd.client.EtcdClient" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EtcdClientextendsAnyRef"></a>
      <a id="EtcdClient:EtcdClient"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">class</span>
      </span>
      <span class="symbol">
        <a href="EtcdClient.html"><span class="name">EtcdClient</span></a><span class="result"> extends <span class="extype" name="scala.AnyRef">AnyRef</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eiipii.etcd.client.package@EtcdClientextendsAnyRef" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Asynchronously sends HTTP requests to etcd servers and handles outcome responses.</p><div class="fullcomment"><div class="comment cmt"><p>Asynchronously sends HTTP requests to etcd servers and handles outcome responses.</p><h4>EtcdClient</h4><p>EtcdClient uses <a href="https://github.com/AsyncHttpClient/async-http-client/" target="_blank">AsyncHttpClient</a> in order to build and send HTTP requests.
Its methods were developed to suit the etcd <a href="https://coreos.com/etcd/docs/latest/" target="_blank">documentation</a>.
All methods use <a href="http://docs.scala-lang.org/overviews/core/futures.html" target="_blank">Scala Futures and Promises</a> in order to provide an asynchronous implementation.</p><p>Depending on the request, either an error will be thrown or a response will be returned.
In both cases, there is a case class extending a trait in package <a href="model/package.html" class="extype" name="com.eiipii.etcd.client.model">model</a> with a name ending in Result, which will be returned containing either the response or information about the error.</p><p>For example, when performing an <a href="EtcdClient.html#setKey(key:com.eiipii.etcd.client.model.EtcdKey,value:com.eiipii.etcd.client.model.EtcdValue,ttlOp:Option[com.eiipii.etcd.client.model.EtcdTTL],conditionOp:Option[com.eiipii.etcd.client.model.CompareAndSwapCondition]):scala.concurrent.Future[com.eiipii.etcd.client.model.EtcdSetKeyResult]" class="extmbr" name="com.eiipii.etcd.client.EtcdClient#setKey">EtcdClient.setKey</a> operation, an <a href="model/EtcdSetKeyResult.html" class="extype" name="com.eiipii.etcd.client.model.EtcdSetKeyResult">EtcdSetKeyResult</a> is expected.
The outcome of the operation, either an error or a response, can be accessed considering both cases.
An easy way to retrieve a response could be with a <code>match</code> statement:</p><pre>etcdcli.setKey(key, value) onSuccess  {
<span class="kw">case</span> EtcdSetKeyResponse(headers, body) <span class="kw">=&gt;</span>
 ???
}</pre><h5>Key-Value Methods</h5><p>The implementation of key-value methods follows the specification given in the <a href="https://coreos.com/etcd/docs/latest/api.html" target="_blank">etcd Client API</a>.
Their purpose is to set, retrieve, modify or delete keys, values and directories in etcd.
It is also possible to wait (set a watch) on etcd keys, so as to monitor changes in the server in real time and conditionally set operations depending on the response obtained once a change in the data is registered.</p><p>Key-Value methods take as inputs case classes defined in package <a href="model/package.html" class="extype" name="com.eiipii.etcd.client.model">model</a>.
The recommended way of getting input data (<a href="model/EtcdKey.html" class="extype" name="com.eiipii.etcd.client.model.EtcdKey">EtcdKey</a>s, <a href="model/EtcdDirectory.html" class="extype" name="com.eiipii.etcd.client.model.EtcdDirectory">EtcdDirectory</a>s, hidden nodes and <a href="model/EtcdValue.html" class="extype" name="com.eiipii.etcd.client.model.EtcdValue">EtcdValue</a>s) for key-value methods is using the <a href="model/EtcdModel$.html" class="extype" name="com.eiipii.etcd.client.model.EtcdModel">EtcdModel</a> object.</p><h5>Statistics</h5><p>The implementation of methods for retrieving etcd cluster statistics also follows the specification given in the <a href="https://coreos.com/etcd/docs/latest/api.html" target="_blank">etcd Client API</a> and <a href="https://coreos.com/etcd/docs/latest/other_apis.html" target="_blank">etcd Admin API</a>.</p><h5>Authentication Methods</h5><p>The implementation of authentication methods follows the specification given in the <a href="https://coreos.com/etcd/docs/latest/auth_api.html" target="_blank">etcd authentication and security API</a>.
With the help of these methods, a system administrator can enable authentication and create users and roles with different levels of access to etcd.
etcd only allows authentication on authentication methods and key-value methods.</p><h5>Member Methods</h5><p>The implementation for member methods follows the specification given in the <a href="https://coreos.com/etcd/docs/latest/members_api.html" target="_blank">etcd  Members API</a>.
They allow an administrator to configure a cluster, by changing the members of a cluster.
</p></div></div>
    </li><li name="com.eiipii.etcd.client.EtcdConfiguration" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="EtcdConfigurationextendsProductwithSerializable"></a>
      <a id="EtcdConfiguration:EtcdConfiguration"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">case class</span>
      </span>
      <span class="symbol">
        <a href="EtcdConfiguration.html"><span class="name">EtcdConfiguration</span></a><span class="params">(<span name="conn">conn: <span class="extype" name="scala.Predef.String">String</span></span>, <span name="authorization">authorization: <span class="extype" name="scala.Option">Option</span>[<a href="model/EtcdUserAuthenticationData.html" class="extype" name="com.eiipii.etcd.client.model.EtcdUserAuthenticationData">EtcdUserAuthenticationData</a>] = <span class="symbol">None</span></span>)</span><span class="result"> extends <span class="extype" name="scala.Product">Product</span> with <span class="extype" name="scala.Serializable">Serializable</span></span>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eiipii.etcd.client.package@EtcdConfigurationextendsProductwithSerializable" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Configures the EtcdClient with information about an endpoint to which requests will be sent and optional authorization data.</p><div class="fullcomment"><div class="comment cmt"><p>Configures the EtcdClient with information about an endpoint to which requests will be sent and optional authorization data.
</p></div><dl class="paramcmts block"><dt class="param">conn</dt><dd class="cmt"><p>String representing an HTTP endpoint composed of an IP address and a port.</p></dd><dt class="param">authorization</dt><dd class="cmt"><p>Optional <a href="model/EtcdUserAuthenticationData.html" class="extype" name="com.eiipii.etcd.client.model.EtcdUserAuthenticationData">EtcdUserAuthenticationData</a> that will be used for authorization.</p></dd></dl></div>
    </li></ol>
            </div>

        

        <div id="values" class="values members">
              <h3>Value Members</h3>
              <ol><li name="com.eiipii.etcd.client.EtcdClient" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="EtcdClient"></a>
      <a id="EtcdClient:EtcdClient"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="EtcdClient$.html"><span class="name">EtcdClient</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eiipii.etcd.client.package@EtcdClient" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">EtcdClient companion object.</p>
    </li><li name="com.eiipii.etcd.client.EtcdDSL" visbl="pub" data-isabs="false" fullComment="no" group="Ungrouped">
      <a id="EtcdDSL"></a>
      <a id="EtcdDSL:EtcdDSL"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">object</span>
      </span>
      <span class="symbol">
        <a href="EtcdDSL$.html"><span class="name">EtcdDSL</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eiipii.etcd.client.package@EtcdDSL" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Domain specific language with methods for the configuration of an etcd client.</p>
    </li><li name="com.eiipii.etcd.client.handlers" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="handlers"></a>
      <a id="handlers:handlers"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a href="handlers/package.html"><span class="name">handlers</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eiipii.etcd.client.package@handlers" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt"><a href="https://github.com/AsyncHttpClient/async-http-client/" target="_blank">AsyncHttpClient</a> handlers used to handle requests and return etcd responses asynchronously.</p><div class="fullcomment"><div class="comment cmt"><h4>Handlers</h4><p><a href="https://github.com/AsyncHttpClient/async-http-client/" target="_blank">AsyncHttpClient</a> handlers used to handle requests and return etcd responses asynchronously.</p><p>For a given HTTP request, etcd most often returns a response containing a JSON array in its body (although, sometimes it may return an empty body).
A response may also contain HTTP headers with the HTTP status code for the response and some information of the etcd cluster (mostly indexes captured as instances of <a href="model/EtcdIndex.html" class="extype" name="com.eiipii.etcd.client.model.EtcdIndex">EtcdIndex</a>).
<a href="https://github.com/AsyncHttpClient/async-http-client/" target="_blank">AsyncHttpClient</a> offers support for handling HTTP requests with customized handlers.
Each handler formats a type of response returned by etcd by parsing the JSON array returned in the response and retrieving the pertinent information in the response's headers.
The parsing is done using <a href="https://github.com/json4s/json4s#extracting-values" target="_blank">JSON4S extract method</a> and case classes defined in package <a href="model/package.html" class="extype" name="com.eiipii.etcd.client.model">model</a>.
The information retrieved from the response's headers is passed along with the body to appropriate case classes in the same package.</p><p>Http requests to etcd may return and error response or a success response.
Error responses usually contain useful information on what went wrong, while success responses return the status of etcd after the request is performed.
Handlers appropriately adapted to deal with both situations.</p></div></div>
    </li><li name="com.eiipii.etcd.client.model" visbl="pub" data-isabs="false" fullComment="yes" group="Ungrouped">
      <a id="model"></a>
      <a id="model:model"></a>
      <h4 class="signature">
      <span class="modifier_kind">
        <span class="modifier"></span>
        <span class="kind">package</span>
      </span>
      <span class="symbol">
        <a href="model/package.html"><span class="name">model</span></a>
      </span>
      </h4><span class="permalink">
      <a href="../../../../index.html#com.eiipii.etcd.client.package@model" title="Permalink" target="_top">
        <img src="../../../../lib/permalink.png" alt="Permalink" />
      </a>
    </span>
      <p class="shortcomment cmt">Contains case classes for dealing with etcd HTTP responses and building correct HTTP requests to etcd.</p><div class="fullcomment"><div class="comment cmt"><h4>Model</h4><p>Contains case classes for dealing with etcd HTTP responses and building correct HTTP requests to etcd.
Most of the case classes are self-explanatory, once the Responses and Errors section below is read.
Those that are not are discussed in more detail in this documentation.
They are mostly used by handlers or by the client to <a href="https://github.com/json4s/json4s#extracting-values" target="_blank">extract</a> information from JSON objects or <a href="https://github.com/json4s/json4s#serialization" target="_blank">write</a> information to JSON objects sent in requests.</p><p>Also, package model contains an object for properly building instances of <a href="model/EtcdKey.html" class="extype" name="com.eiipii.etcd.client.model.EtcdKey">EtcdKey</a>, <a href="model/EtcdDirectory.html" class="extype" name="com.eiipii.etcd.client.model.EtcdDirectory">EtcdDirectory</a>, hidden nodes and <a href="model/EtcdValue.html" class="extype" name="com.eiipii.etcd.client.model.EtcdValue">EtcdValue</a>.</p><p>Finally, it contains <a href="https://github.com/json4s/json4s#serializing-non-supported-types" target="_blank">JSON4S custom serializers</a> for JSON parsing support.
All the custom serializers contained in this package are contained  in the <a href="model/EtcdJsonFormat$.html" class="extype" name="com.eiipii.etcd.client.model.EtcdJsonFormat">EtcdJsonFormat</a> object, which in turn is used by handlers in package <a href="handlers/package.html" class="extype" name="com.eiipii.etcd.client.handlers">handlers</a> to parse responses from etcd to HTTP requests.</p><h5>Responses and Errors</h5><p>All requests can return either a response or an error.
In order to deal with this two possible situations, the outcome of each request is represented by a Result sealed trait in this package.
These traits are extended by case classes representing an error or a response in the manner described bellow.
The naming convention for Result sealed traits is the following: Etcd&lt;NameOfTheEtcdClientMethod&gt;Result.
For example <a href="model/EtcdGetKeyResult.html" class="extype" name="com.eiipii.etcd.client.model.EtcdGetKeyResult">EtcdGetKeyResult</a>.</p><p>There are two types of error that etcd could return.
For EtcdClient, they are represented in the <a href="model/EtcdStandardError.html" class="extype" name="com.eiipii.etcd.client.model.EtcdStandardError">EtcdStandardError</a> and <a href="model/EtcdRequestError.html" class="extype" name="com.eiipii.etcd.client.model.EtcdRequestError">EtcdRequestError</a>.
One of these case classes extends each Result sealed trait representing the outcome of a request sent by the client.</p><p>On the other hand, Responses are dealt with using Response case classes.
They contain all the necessary fields used to deserialize the information contained in the HTTP response received from etcd.
Response case classes also extend Result sealed traits. The naming convention is similar: Etcd&lt;NameOfTheEtcdClientMethod&gt;Response.
For example <a href="model/EtcdGetKeyResponse.html" class="extype" name="com.eiipii.etcd.client.model.EtcdGetKeyResponse">EtcdGetKeyResponse</a>.</p><p>Both Response and Error case classes contain the relevant information about etcd that can be found in headers and in the response body.</p><p>A more involved case, which is delt with a callback, is <a href="model/EtcdWaitForKeyResult.html" class="extype" name="com.eiipii.etcd.client.model.EtcdWaitForKeyResult">EtcdWaitForKeyResult</a>.</p></div></div>
    </li></ol>
            </div>

        

        
        </div>

        <div id="inheritedMembers">
        <div class="parent" name="scala.AnyRef">
              <h3>Inherited from <span class="extype" name="scala.AnyRef">AnyRef</span></h3>
            </div><div class="parent" name="scala.Any">
              <h3>Inherited from <span class="extype" name="scala.Any">Any</span></h3>
            </div>
        
        </div>

        <div id="groupedMembers">
        <div class="group" name="Ungrouped">
              <h3>Ungrouped</h3>
              
            </div>
        </div>

      </div>

      <div id="tooltip"></div>

      <div id="footer">  </div>


    </body>
      </html>
